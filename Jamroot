# alias install : install-headers install-lib ;

# install install-lib : particledb ;
# 
# install install-headers
#     : [ glob-tree *.h : .svn ]
#     ;
# 

path-constant TOP : . ;

import mpi ;

local xml2-features = [ mpi.cmdline_to_features [ SHELL "printf '%s ' compiler `xml2-config --cflags --libs`" ] ] ;

use-project /olson-tools : ../olson-tools ;
use-project /boost : ../boost ;

path-constant PARTICLEDB_XML : $(TOP)/data/particledb.xml ;

project /particledb
    : requirements
        <library>/olson-tools//headers
        $(xml2-features)
        <include>src
        <define>PARTICLEDB_XML=\\\"$(PARTICLEDB_XML)\\\"
    : usage-requirements
        <library>/olson-tools//misc
        <library>/olson-tools//random
        $(xml2-features)
        <include>src
        <library>/boost//regex
        <define>PARTICLEDB_XML=\\\"$(PARTICLEDB_XML)\\\"
    ;

lib particledb :
      src/particledb/property/Generic.cpp
      src/particledb/physical_calc.cpp
      src/particledb/interaction/DATACrossSection.cpp
      src/particledb/interaction/VHSInfo.cpp
      src/particledb/interaction/model/VSSElastic.cpp
    : <link>static
    ;

